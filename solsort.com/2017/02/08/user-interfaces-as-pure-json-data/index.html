<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="https://solsort.com/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="https://solsort.com/wp-content/themes/twentyfifteen/js/html5.js"></script>
	<![endif]-->
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>User interfaces as pure JSON data &#8211; solsort.com</title>
<link rel='dns-prefetch' href='https://s0.wp.com/' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link href='https://fonts.gstatic.com' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="solsort.com &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="solsort.com &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="solsort.com &raquo; User interfaces as pure JSON data Comments Feed" href="https://solsort.com/2017/02/08/user-interfaces-as-pure-json-data/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/solsort.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentyfifteen-jetpack-css'  href='../../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentyfifteen.css%3Fver=6.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%3A400italic%2C700italic%2C400%2C700%7CNoto+Serif%3A400italic%2C700italic%2C400%2C700%7CInconsolata%3A400%2C700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css%3Fver=3.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css'  href='../../../../wp-content/themes/twentyfifteen/style.css%3Fver=4.9.5.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfifteen-ie-css'  href='https://solsort.com/wp-content/themes/twentyfifteen/css/ie.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentyfifteen-ie7-css'  href='https://solsort.com/wp-content/themes/twentyfifteen/css/ie7.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../../../../wp-content/plugins/jetpack/css/jetpack.css%3Fver=6.1.css' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery.js%3Fver=1.12.4'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=1.4.1'></script>
<link rel='https://api.w.org/' href='../../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Shell/ipfs notes' href='../shell-ipfs-notes/index.html' />
<link rel='next' title='Simple JavaScript' href='../../../04/10/simple-javascript/index.html' />
<meta name="generator" content="WordPress 4.9.5" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='https://solsort.com/?p=1190' />
<link rel="alternate" type="application/json+oembed" href="https://solsort.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fsolsort.com%2F2017%2F02%2F08%2Fuser-interfaces-as-pure-json-data%2F" />
</head>

<body class="post-template-default single single-post postid-1190 single-format-standard wp-custom-logo">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="index.html#content">Skip to content</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header" role="banner">
			<div class="site-branding">
				<a href="../../../../index.html" class="custom-logo-link" rel="home" itemprop="url"><img width="248" height="248" src="../../../../wp-content/uploads/sites/4/2018/05/cropped-icon.png" class="custom-logo" alt="solsort.com" itemprop="logo" srcset="../../../../wp-content/uploads/sites/4/2018/05/cropped-icon.png 248w, ../../../../wp-content/uploads/sites/4/2018/05/cropped-icon-150x150.png 150w" sizes="(max-width: 248px) 100vw, 248px" /></a>						<p class="site-title"><a href="../../../../index.html" rel="home">solsort.com</a></p>
									<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

					<nav id="site-navigation" class="main-navigation" role="navigation">
				<div class="menu-top-menu-container"><ul id="menu-top-menu" class="nav-menu"><li id="menu-item-969" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-969"><a href="https://veduz.com/">veduz.company</a></li>
<li id="menu-item-971" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-971"><a href="../../../../index.html">solsort.company</a></li>
<li id="menu-item-970" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-970"><a href="https://rasmuserik.com/">Rasmus Erik Voel Jensen</a></li>
</ul></div>			</nav><!-- .main-navigation -->
		
		
					<div id="widget-area" class="widget-area" role="complementary">
				<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="../../../../index.html">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit screen-reader-text" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">Technical Notes</h2>		<ul>
											<li>
					<a href="../../../../2018/04/19/simple-wordpress-development-setup/index.html">Simple WordPress development setup.</a>
									</li>
											<li>
					<a href="../../../../2018/04/09/wordpress-notes/index.html">WordPress Notes</a>
									</li>
											<li>
					<a href="../../../08/25/js-ipfs-mini-hackathon/index.html">JS-IPFS Mini Hackathon</a>
									</li>
											<li>
					<a href="../../../05/17/react-material-design/index.html">React Material Design</a>
									</li>
											<li>
					<a href="../../../04/20/mainstream-code/index.html">Mainstream code</a>
									</li>
											<li>
					<a href="../../../04/20/code-infrastructure/index.html">Code infrastructure</a>
									</li>
											<li>
					<a href="../../../04/18/easy-publish/index.html">Easy Publish</a>
									</li>
											<li>
					<a href="../../../04/11/generic-backend-server/index.html">Generic backend server</a>
									</li>
											<li>
					<a href="../../../04/11/future-proof-apps/index.html">Future Proof Apps</a>
									</li>
											<li>
					<a href="../../../04/10/simple-javascript/index.html">Simple JavaScript</a>
									</li>
											<li>
					<a href="index.html">User interfaces as pure JSON data</a>
									</li>
											<li>
					<a href="../shell-ipfs-notes/index.html">Shell/ipfs notes</a>
									</li>
											<li>
					<a href="../../../01/31/thoughts-about-distributed-cloud/index.html">Thoughts about distributed cloud</a>
									</li>
											<li>
					<a href="../../../01/11/deploying-with-github-travis-and-unpkg/index.html">deploying with github travis and unpkg</a>
									</li>
											<li>
					<a href="../../../01/03/checklists/index.html">checklists</a>
									</li>
											<li>
					<a href="../../../../2016/12/29/javascript-features-in-modern-browsers-2016/index.html">JavaScript features in modern browsers 2016</a>
									</li>
											<li>
					<a href="../../../../2016/12/21/bootstrapped-clojurescript/index.html">Bootstrapped ClojureScript</a>
									</li>
											<li>
					<a href="../../../../2016/12/15/extending-others-webservices/index.html">Extending others webservices</a>
									</li>
											<li>
					<a href="../../../../2016/12/05/blog-editor-notes/index.html">Blog Editor Notes</a>
									</li>
											<li>
					<a href="../../../../2016/11/20/data-calculator-user-interaction/index.html">Data Calculator User Interaction</a>
									</li>
											<li>
					<a href="../../../../2016/11/19/virtual-machine-revisited/index.html">Virtual machine, &#8211; revisited</a>
									</li>
											<li>
					<a href="../../../../2016/11/16/virtual-machine-memory-layout-for-a-functional-language-for-embedded-systems/index.html">Virtual Machine Memory Layout for a Functional Language for Embedded Systems</a>
									</li>
											<li>
					<a href="../../../../2016/11/16/setting-up-android-development-react-native-under-linux/index.html">Setting up Android development / React Native under Linux</a>
									</li>
											<li>
					<a href="../../../../2016/11/15/important-javascript-features/index.html">Important JavaScript Features</a>
									</li>
											<li>
					<a href="../../../../2016/07/15/decentrale-apps/index.html">Decentrale apps</a>
									</li>
											<li>
					<a href="../../../../2016/06/27/tools-for-text-editing/index.html">Tools for text editing</a>
									</li>
											<li>
					<a href="../../../../2016/06/07/habitica-backup/index.html">Habitica backup</a>
									</li>
											<li>
					<a href="../../../../2016/06/05/owncloud-and-docker/index.html">OwnCloud and Docker</a>
									</li>
											<li>
					<a href="../../../../2016/05/03/experience-with-caddy-webserver/index.html">Experience with Caddy webserver</a>
									</li>
											<li>
					<a href="../../../../2016/04/21/trie-performance/index.html">Trie performance</a>
									</li>
											<li>
					<a href="../../../../2016/04/17/mobibl/index.html">Mobibl</a>
									</li>
											<li>
					<a href="../../../../2016/04/09/notes-about-a-distributed-database-design/index.html">Notes about a distributed database design</a>
									</li>
											<li>
					<a href="../../../../2016/04/06/server-set-up-caddy-and-docker/index.html">Server set up: Caddy and Docker</a>
									</li>
											<li>
					<a href="../../../../2016/04/05/probabilistic-sorting/index.html">Probabilistic sorting</a>
									</li>
											<li>
					<a href="../../../../2016/01/03/mubackend-2/index.html">muBackend</a>
									</li>
											<li>
					<a href="../../../../2016/01/02/mobile-html5-react-libraries/index.html">Mobile HTML5 React libraries</a>
									</li>
											<li>
					<a href="../../../../2016/01/01/interesting-technologies/index.html">Interesting technologies</a>
									</li>
											<li>
					<a href="../../../../2015/12/31/mubackend-and-year-review/index.html">muBackend, and year review</a>
									</li>
											<li>
					<a href="../../../../2015/12/18/mubackend-and-beginning-a-book/index.html">muBackend, and beginning a book</a>
									</li>
											<li>
					<a href="../../../../2015/12/15/prepare-old-apps-for-publication/index.html">Prepare old apps for publication</a>
									</li>
											<li>
					<a href="../../../../2015/12/09/app-skeleton/index.html">App Skeleton</a>
									</li>
											<li>
					<a href="../../../../2015/12/02/bibapp-done-planningstrategy/index.html">BibApp Done. Planning+strategy.</a>
									</li>
											<li>
					<a href="../../../../2015/11/30/bibapp-bugfixes-and-report/index.html">BibApp bugfixes and report</a>
									</li>
											<li>
					<a href="../../../../2015/11/26/bibapp-working-version/index.html">BibApp working version</a>
									</li>
											<li>
					<a href="../../../../2015/11/18/bibapp-progress/index.html">BibApp Progress</a>
									</li>
											<li>
					<a href="../../../../2015/11/18/data-json/index.html">Data JSON</a>
									</li>
											<li>
					<a href="../../../../2015/11/16/rethinking-bibapp/index.html">Rethinking BibApp</a>
									</li>
											<li>
					<a href="../../../../2015/11/15/idea-for-simplifying-authentication/index.html">Idea for simplifying authentication</a>
									</li>
											<li>
					<a href="../../../../2015/11/15/old-front-page-with-project-list/index.html">Old front-page with project list</a>
									</li>
											<li>
					<a href="../../../../2015/11/15/variable-byte-encoding-of-unsigned-integers/index.html">Variable byte encoding of unsigned integers.</a>
									</li>
											<li>
					<a href="../../../../2015/11/15/wordpress-theme-development/index.html">WordPress theme development</a>
									</li>
											<li>
					<a href="../../../../2015/11/14/lets-encrypt/index.html">Let&#8217;s encrypt!</a>
									</li>
											<li>
					<a href="../../../../2015/11/14/word-order-in-programming-and-human-languages/index.html">Word order in programming and human languages</a>
									</li>
											<li>
					<a href="../../../../2015/11/12/bibapp-infrastructure/index.html">BibApp Infrastructure</a>
									</li>
											<li>
					<a href="../../../../2015/11/06/solsort-platform-and-practical-stuff/index.html">Solsort platform and practical stuff</a>
									</li>
											<li>
					<a href="../../../../2015/10/29/ucc-organism-debug/index.html">UCC-organism debug</a>
									</li>
											<li>
					<a href="../../../../2015/10/20/tinkuy-dk-and-clojurescript-infrastructure/index.html">Tinkuy.dk and ClojureScript Infrastructure</a>
									</li>
											<li>
					<a href="../../../../2015/10/20/mubackend-revisited/index.html">MuBackend revisited</a>
									</li>
											<li>
					<a href="../../../../2015/10/15/library-data/index.html">Library Data</a>
									</li>
											<li>
					<a href="../../../../2015/10/07/b-trie/index.html">B-trie</a>
									</li>
											<li>
					<a href="../../../../2015/10/02/3-day-sprint-hack4dk/index.html">3-day sprint: Hack4DK</a>
									</li>
											<li>
					<a href="../../../../2015/09/29/lemon-status-2/index.html">Lemon status 2</a>
									</li>
											<li>
					<a href="../../../../2015/09/17/app-entry-point/index.html">App entry point</a>
									</li>
											<li>
					<a href="../../../../2015/09/15/projekt-lemon/index.html">Projekt Lemon</a>
									</li>
											<li>
					<a href="../../../../2015/09/10/async-loaded-figwheel-cljs/index.html">Async loaded figwheel cljs</a>
									</li>
											<li>
					<a href="../../../../2015/09/09/hack4dk-warmup/index.html">Hack4dk warmup</a>
									</li>
											<li>
					<a href="../../../../2015/09/08/solsort-widget-in-progress/index.html">solsort widget in progress</a>
									</li>
											<li>
					<a href="../../../../2015/09/07/lemon-status-1/index.html">Development structure, and Lemon status 1</a>
									</li>
											<li>
					<a href="../../../../2015/08/26/mubackend/index.html">MuBackend</a>
									</li>
											<li>
					<a href="../../../../2015/08/22/peer-app-notes/index.html">Peer app notes</a>
									</li>
											<li>
					<a href="../../../../2015/08/18/responsive-base-app-design/index.html">Responsive base app design</a>
									</li>
											<li>
					<a href="../../../../2015/08/17/mobile-ui/index.html">Mobile UI</a>
									</li>
											<li>
					<a href="../../../../2015/08/05/194/index.html">Git workflow with github and waffle</a>
									</li>
											<li>
					<a href="../../../../2015/08/04/20-years-of-technology/index.html">20 years of technology</a>
									</li>
											<li>
					<a href="../../../../2015/07/28/programmering-pa-skoleskemaet/index.html">Programmering på skoleskemaet</a>
									</li>
											<li>
					<a href="../../../../2015/07/19/configuration-management-tools/index.html">Configuration management tools</a>
									</li>
											<li>
					<a href="../../../../2015/07/18/solsort-backend-tech/index.html">Solsort backend tech</a>
									</li>
											<li>
					<a href="../../../../2015/07/09/tech-videos-for-cooking-and-dishwashing/index.html">Tech videos for cooking and dishwashing</a>
									</li>
											<li>
					<a href="../../../../2015/07/08/pouchdb-get-internals/index.html">PouchDB .get internals</a>
									</li>
											<li>
					<a href="../../../../2015/07/07/web-data-storage/index.html">Web data storage</a>
									</li>
											<li>
					<a href="../../../../2015/06/30/github-shields-and-badges/index.html">GitHub shields and badges</a>
									</li>
											<li>
					<a href="../../../../2015/06/26/programming-languages/index.html">Programming Languages</a>
									</li>
											<li>
					<a href="../../../../2015/06/21/making-modules-for-clojureclojurescript/index.html">Making modules for Clojure/ClojureScript</a>
									</li>
											<li>
					<a href="../../../../2015/06/19/coding-tips/index.html">Coding tips</a>
									</li>
											<li>
					<a href="../../../../2015/06/09/sorting-photos-with-linux-shell-scripting/index.html">Sorting photos with linux shell scripting</a>
									</li>
											<li>
					<a href="../../../../2015/06/04/why-clojurescript/index.html">Why ClojureScript?</a>
									</li>
					</ul>
		</aside>			</div><!-- .widget-area -->
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
<article id="post-1190" class="post-1190 post type-post status-publish format-standard hentry category-uncategorized">
	
	<header class="entry-header">
		<h1 class="entry-title">User interfaces as pure JSON data</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<div id="content">
<p>Sometimes it is practical if the user interface is a pure JSON data structure:</p>
<ul>
<li>it makes it easy to serialise it &#8211; for example for moving it between rendering thread and vie thread</li>
<li>would trivially make it possible to show the UI on different devices at the same time, etc.</li>
<li>you can use existing tools for working with the data, &#8211; for example immutable Object/Array implemenations for fast diffing etc.</li>
<li>useful for using react in environments without JSX</li>
<li>pure data are easier to reason about</li>
</ul>
<p>This is needed when making <a href="https://appedit.solsort.com">https://appedit.solsort.com</a>. I do not want to reinvent the wheel, so I build upon the following ideas:</p>
<ul>
<li><a href="https://github.com/Day8/re-frame">re-frame</a>, and redux has a good mental model of how user interfaces works, &#8211; notice that the views just emits events.</li>
<li>React have the framework and community around rendering the components</li>
<li>HTML is already data &#8211; mostly except for event handling. HTML serialises nicely into JSON as <a href="http://www.jsonml.org">JsonML</a>.</li>
<li><a href="http://reagent-project.github.io/">Reagent</a> is a very similar to what I want.</li>
</ul>
<p>So what I do is:</p>
<ul>
<li>JsonML data structures are rendered via React. Special syntax for requiring components on the fly.</li>
<li>Event handlers are data descriptions of how to transform event into a message that can be dispatched. The event handling and message passing between processes is done via <a href="https://direape.solsort.com">https://direape.solsort.com</a>.</li>
</ul>
<p>An example of a UI data structure is:</p>
<div class="language-json highlighter-rouge">
<div class="highlight">
<pre class="highlight"><code><span class="p">[</span><span class="s2">"div"</span><span class="p">,</span>
  <span class="p">[</span><span class="s2">"button"</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">"onClick"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"solsortEvent"</span><span class="p">:</span> 
      <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"hi"</span><span class="p">,</span>
       <span class="s2">"pid"</span><span class="p">:</span> <span class="s2">"PID6aih4gsogfj3gmfou82qof75k53da7fg"</span><span class="p">,</span>
       <span class="s2">"extract"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"clientX"</span><span class="p">,</span> <span class="s2">"clientY"</span><span class="p">]}}},</span>
    <span class="s2">"Click me"</span><span class="p">],</span>
  <span class="p">[</span><span class="s2">"react-star-rating:default"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"star-rating"</span><span class="p">,</span> <span class="s2">"rating"</span><span class="p">:</span> <span class="mi">5</span><span class="p">}]]</span>
</code></pre>
</div>
</div>
<p>The <code class="highlighter-rouge">{"solsortEvent": ... }</code> describes how to handle events, &#8211; in this case extract <code class="highlighter-rouge">clientX</code> and <code class="highlighter-rouge">clientY</code> of the event and send it as a message to a mailbox name <code class="highlighter-rouge">hi</code>, in the process <code class="highlighter-rouge">PID6ai...a7fg</code>. The <code class="highlighter-rouge">react-star-rating:default</code> tag, refers to the react-component <code class="highlighter-rouge">require('react-star-rating').default</code>, and can be used to load react components directly from npmjs.</p>
<p>In practice I have utility functions for making event objects etc., so a full UI example could be:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight">
<pre class="highlight"><code><span class="kd">var</span> <span class="nx">ss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'solsort'</span><span class="p">);</span>
<span class="nx">ss</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span>
  <span class="p">[</span><span class="s1">'div'</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">'button'</span><span class="p">,</span> <span class="p">{</span><span class="na">onClick</span><span class="p">:</span> <span class="nx">ss</span><span class="p">.</span><span class="nx">event</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">,</span> <span class="p">{</span><span class="na">extract</span><span class="p">:</span> <span class="p">[</span><span class="s1">'clientX'</span><span class="p">,</span> <span class="s1">'clientY'</span><span class="p">]})},</span>
      <span class="s1">'Click me'</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">'react-star-rating:default'</span><span class="p">,</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s1">'star-rating'</span><span class="p">,</span> <span class="na">rating</span><span class="p">:</span> <span class="mi">5</span><span class="p">}]]);</span>
<span class="nx">ss</span><span class="p">.</span><span class="nx">handle</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">,</span> <span class="nx">e</span><span class="p">));</span>
</code></pre>
</div>
</div>
<p>The <code class="highlighter-rouge">ss.event</code> automatically sets the target for the event message to the current thread. Thus when another thread reads and renders the UI data structure, the events end up in the right thread. Clicking on the button prints ‘hi’, and the coordinates of the click. <code class="highlighter-rouge">ss.html</code> saves the UI as a part of the state for the current thread, which other thread can subscribe to reactively.</p>
</div>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="index.html" rel="bookmark"><time class="entry-date published updated" datetime="2017-02-08T11:10:25+00:00">February 8, 2017</time></a></span><span class="byline"><span class="author vcard"><span class="screen-reader-text">Author </span><a class="url fn n" href="https://solsort.com/author/rasmuserik/">rasmuserik</a></span></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="https://solsort.com/category/uncategorized/" rel="category tag">Uncategorized</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

<div id="comments" class="comments-area">

	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://solsort.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='1190' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p>			</form>
			</div><!-- #respond -->
	
</div><!-- .comments-area -->

	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../shell-ipfs-notes/index.html" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Shell/ipfs notes</span></a></div><div class="nav-next"><a href="../../../04/10/simple-javascript/index.html" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">Simple JavaScript</span></a></div></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
						<a href="https://wordpress.org/">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201819'></script>
<script type='text/javascript' src='../../../../wp-content/themes/twentyfifteen/js/skip-link-focus-fix.js%3Fver=20141010'></script>
<script type='text/javascript' src='../../../../wp-includes/js/comment-reply.min.js%3Fver=4.9.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/themes/twentyfifteen/js/functions.js%3Fver=20150330'></script>
<script type='text/javascript' src='../../../../wp-includes/js/wp-embed.min.js%3Fver=4.9.5'></script>

</body>
</html>
